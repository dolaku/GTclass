<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <title>Rock Paper Scissors Part 2</title>
</head>

<body class="container text-center">
  <div class="row mb-4">
    <div class="col-12">
      <h1>Rock Paper Scissors</h1>
      <p>Press r, p, or s to begin!</p>
    </div>
  </div>

  <div id="game" class="row mb-4 border-top border-bottom">
    <div class="col-12">
      <p>Your Selection: <span id="user-input"></span></p>
      <p>Computer Selection: <span id="computer-input"></span></p>
    </div>
  </div>

  <div class="row mb-4">
    <div class="col-12">
      <p>Wins: <span id="win">0</span></p>
      <p>Loses: <span id="lose">0</span></p>
      <p>Ties: <span id="tie">0</span></p>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <button id="reset" type="button" class="btn btn-primary" onclick="reset()">Reset</button>
    </div>
  </div>

  <script type="text/javascript">

    // Creates an array that lists out all of the options (Rock, Paper, or Scissors).
    var computerChoices = ["r", "p", "s"];
    var win = 0;
    var lose = 0;
    var tie = 0;

    // This function is run whenever the user presses a key.
    document.onkeyup = function (event) {


      // Determines which key was pressed.
      var userGuess = event.key;

      // Randomly chooses a choice from the options array. This is the Computer's guess.
      var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];

      document.getElementById('user-input').textContent = userGuess;
      document.getElementById('computer-input').textContent = computerGuess;

      if (userGuess == 'r') {
        if (computerGuess == 'r') {
          tie += 1;
        } else if (computerGuess == 'p') {
          lose += 1;
        } else if (computerGuess == 's') {
          win += 1;
        }

      } else if (userGuess == 'p') {
        if (computerGuess == 'r') {
          win += 1;
        } else if (computerGuess == 'p') {
          tie += 1;
        } else if (computerGuess == 's') {
          lose += 1;
        }

      } else if (userGuess == 's') {
        if (computerGuess == 'r') {
          lose += 1;
        } else if (computerGuess == 'p') {
          win += 1;
        } else if (computerGuess == 's') {
          tie += 1;
        }

      } else if (userGuess !== 'r' || userGuess !== 'p' || userGuess !== 's') {
        document.getElementById('user-input').textContent = 'Invalid Option!';
      }

      // Alerts the key the user pressed (userGuess).
      console.log("User guess: " + userGuess);

      // Alerts the Computer's guess.
      console.log("Computer guess: " + computerGuess);

      document.getElementById('win').textContent = win;
      document.getElementById('lose').textContent = lose;
      document.getElementById('tie').textContent = tie;

    };

    function reset() {
      win = 0;
      lose = 0;
      tie = 0;

      document.getElementById('win').textContent = win;
      document.getElementById('lose').textContent = lose;
      document.getElementById('tie').textContent = tie;
      document.getElementById('user-input').textContent = '';
      document.getElementById('computer-input').textContent = '';
    }
  </script>

</body>

</html>